<div class="modal-content">
  <div class="modal-header">
    <h2>{{ data.repository.name }}</h2>
    <button type="button" class="close-button" (click)="close()">Ã—</button>
  </div>

  <div class="modal-body">
    <div class="repo-info">
      <div class="owner-section">
        <img
          [src]="data.repository.owner.avatar_url"
          [alt]="data.repository.owner.login + ' avatar'"
          class="owner-avatar"
        />
        <div class="owner-details">
          <h3>
            <a [href]="data.repository.owner.html_url" target="_blank">
              {{ data.repository.owner.login }}
            </a>
          </h3>
          <p class="full-name">{{ data.repository.full_name }}</p>
        </div>
      </div>

      @if (data.repository.description) {
        <p class="description">{{ data.repository.description }}</p>
      }

      <div class="repo-stats">
        <div class="stat-item">
          <span class="stat-label">Stars:</span>
          <span class="stat-value">{{ data.repository.stargazers_count }}</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Issues:</span>
          <span class="stat-value">{{
            data.repository.open_issues_count
          }}</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Created:</span>
          <span class="stat-value">{{
            formatDate(data.repository.created_at)
          }}</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Updated:</span>
          <span class="stat-value">{{
            formatDate(data.repository.updated_at)
          }}</span>
        </div>
      </div>

      <div class="rating-section">
        <h3>Rate this repository</h3>
        <app-star-rating
          [rating]="getCurrentRating()"
          (ratingChange)="onRatingChange($event)"
        />
      </div>
    </div>
  </div>
</div>
